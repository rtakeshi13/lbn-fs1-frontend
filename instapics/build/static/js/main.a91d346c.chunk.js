(this.webpackJsonplabepics=this.webpackJsonplabepics||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(97),a(29)),l=a(11),s=function(e){var t=e.path,a=e.component,n=Object(l.f)(),c=Boolean(localStorage.getItem("labepics"));return!c&&n.replace("/accounts/login"),c?r.a.createElement(l.a,{exact:!0,path:t,component:a}):null},u=a(8),m=a.n(u),p=a(15),d=a(16),f=a(46),g=a(55),b=function(e){var t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],c=a[1];return[r,function(e){var t=e.target,a=t.name,n=t.value;c(Object(g.a)(Object(g.a)({},r),{},Object(f.a)({},a,n)))},function(){c(e)}]},v=a(33),h=a.n(v),E="http://localhost:3003",x=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(E,"/user/login"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(E,"/user/signup"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0.response),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{authentication:JSON.parse(localStorage.getItem("labepics")).token}},e.prev=1,e.next=4,h.a.get("".concat(E,"/user/").concat(t),a);case 4:return n=e.sent,e.abrupt("return",n.data.user);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{authentication:JSON.parse(localStorage.getItem("labepics")).token}},e.prev=1,e.next=4,h.a.get("".concat(E,"/post?userId=").concat(t,"&page=").concat(a),n);case 4:return r=e.sent,e.abrupt("return",r.data.posts);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),w=a(150),k=a(154),S=a(156),C=a(122),N=a(151),W=a(152),q=a(43),T=a.n(q),I=a(44),B=a.n(I),F=a(153),J=a(158),R=a(157),D=a(39),L=a(40),A=a(155);function M(){var e=Object(D.a)(["\n  color: ",";\n"]);return M=function(){return e},e}function P(){var e=Object(D.a)(["\n  fieldset {\n    border-radius: 4px;\n  }\n"]);return P=function(){return e},e}var G=Object(L.a)(A.a)(P()),z=Object(L.a)(J.a)(M(),(function(e){return e.error&&"#e02020"})),H=a(77),K=a.n(H),Q=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"},submit:{borderRadius:"0px",backgroundColor:"#e8222e",textTransform:"none",color:"black",marginTop:"0.5rem","&:hover, &:focus":{backgroundColor:"red"}}}})),U=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Q(),i=Object(l.f)(),s=b({name:"",nickname:"",email:"",password:""}),u=Object(d.a)(s,2),f=u[0],g=u[1],v=Object(n.useState)(""),h=Object(d.a)(v,2),E=h[0],x=h[1],y=Object(n.useState)(!1),j=Object(d.a)(y,2),w=j[0],q=j[1],I=function(){return f.password===E},D=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f.password!==E){e.next=6;break}return e.next=4,O(f);case 4:(a=e.sent).token?(localStorage.setItem("labepics",JSON.stringify(a)),i.push("/".concat(f.nickname))):window.alert(a.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(N.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:o.paper},r.a.createElement("img",{src:K.a,alt:"iFuture logo"}),r.a.createElement(C.a,{component:"h1",style:{marginTop:"2rem"}},"Cadastrar"),r.a.createElement("form",{className:o.form,onSubmit:D},r.a.createElement(G,{style:{marginBottom:"0.5rem"},onChange:g,value:f.name,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Full Name",name:"name",type:"text"}),r.a.createElement(G,{style:{marginBottom:"0.5rem"},onChange:g,value:f.nickname,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Nickname",name:"nickname",type:"text"}),r.a.createElement(G,{style:{marginBottom:"0.5rem"},onChange:g,value:f.email,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email",name:"email",type:"email"}),r.a.createElement(R.a,{variant:"outlined",required:!0,fullWidth:!0,style:{marginTop:"0.5rem"}},r.a.createElement(J.a,{htmlFor:"login-password1"},"Senha"),r.a.createElement(S.a,{style:{borderRadius:"4px"},id:"login-password1",labelWidth:60,onChange:g,value:f.password,required:!0,name:"password",placeholder:"M\xednimo 6 caracteres",type:a?"text":"password",endAdornment:r.a.createElement(W.a,{position:"end"},r.a.createElement(F.a,{"aria-label":"toggle password visibility",onClick:function(){c(!a)},edge:"end"},a?r.a.createElement(T.a,{style:{color:"black"}}):r.a.createElement(B.a,null)))})),r.a.createElement(R.a,{variant:"outlined",required:!0,fullWidth:!0,style:{marginTop:"1rem"}},r.a.createElement(z,{htmlFor:"login-password2",error:!I()},"Confirmar"),r.a.createElement(S.a,{error:!I(),style:{borderRadius:"4px"},id:"login-password2",labelWidth:90,onChange:function(e){return x(e.target.value)},value:E,required:!0,name:"password",placeholder:"Confirme a senha anterior",type:w?"text":"password",endAdornment:r.a.createElement(W.a,{position:"end"},r.a.createElement(F.a,{"aria-label":"toggle password visibility",onClick:function(){q(!w)},edge:"end"},w?r.a.createElement(T.a,{style:{color:"black"}}):r.a.createElement(B.a,null)))})),r.a.createElement(C.a,{variant:"caption",style:{marginBottom:"0rem",color:"".concat(I()?"#fafafa":"#e02020"),marginLeft:"0.5rem"}},"Deve ser a mesma que a anterior."),r.a.createElement(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit},"Signup")),r.a.createElement(C.a,{onClick:function(){return i.push("/accounts/login")},variant:"body2",style:{cursor:"pointer",marginTop:"1rem"}},"LOGIN")))};function V(){var e=Object(D.a)(["\n  fieldset {\n    border-radius: 2px;\n  }\n"]);return V=function(){return e},e}var X=Object(L.a)(A.a)(V()),Y=a(78),Z=a.n(Y),$=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"},submit:{borderRadius:"0px",margin:e.spacing(2,0,2),backgroundColor:"#e8222e",textTransform:"none",color:"black","&:hover, &:focus":{backgroundColor:"red"}}}})),_=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],o=$(),i=Object(l.f)(),s=b({emailOrNickname:"",password:""}),u=Object(d.a)(s,2),f=u[0],g=u[1],v=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x(f);case 3:(a=e.sent).token?(localStorage.setItem("labepics",JSON.stringify(a)),i.push("/".concat(a.nickname))):console.log(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(N.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:o.paper},r.a.createElement("img",{src:Z.a,alt:"iFuture logo"}),r.a.createElement(C.a,{component:"h1",style:{marginTop:"2rem"}},"Entrar"),r.a.createElement("form",{className:o.form,onSubmit:v},r.a.createElement(X,{style:{marginBottom:"0.5rem"},onChange:g,value:f.email,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email or nickname",name:"emailOrNickname",type:"text"}),r.a.createElement(R.a,{variant:"outlined",required:!0,fullWidth:!0,style:{marginTop:"0.5rem"}},r.a.createElement(J.a,{htmlFor:"login-password"},"Password"),r.a.createElement(S.a,{style:{borderRadius:"2px"},id:"login-password",labelWidth:80,onChange:g,value:f.password,required:!0,name:"password",type:a?"text":"password",endAdornment:r.a.createElement(W.a,{position:"end"},r.a.createElement(F.a,{"aria-label":"toggle password visibility",onClick:function(){c(!a)},edge:"end"},a?r.a.createElement(T.a,null):r.a.createElement(B.a,null)))})),r.a.createElement(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit,style:{borderRadius:"2px"}},"Entrar")),r.a.createElement(C.a,{onClick:function(){return i.push("/accounts/signup")},variant:"body2",style:{cursor:"pointer"}},"N\xe3o possui cadastro? Clique aqui.")))},ee=function(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){Object(p.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:a=t.sent,c(a);case 4:case"end":return t.stop()}}),t)})))()}),[e]),r},te=function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(0),i=Object(d.a)(o,2),l=i[0],s=i[1];Object(n.useEffect)((function(){Object(p.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,j(e,l);case 3:a=t.sent,c(r.concat(a));case 5:case"end":return t.stop()}}),t)})))()}),[e,l]);return{posts:r,getNextPage:function(){s(l+1)}}},ae=a(79);var ne=function(){var e=Object(l.g)().nickname,t=ee(e),a=te(t&&t.id),n=a.posts,c=a.getNextPage;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(ae.a,{dataLength:n.length,next:c,scrollThreshold:"20px",hasMore:n.length<t.postsCount,loader:r.a.createElement("h4",null,"Loading...")},n.map((function(e,t){return r.a.createElement("div",{style:{height:30,border:"1px solid green",margin:6,padding:8},key:t},"div - #",t)}))))};var re=function(){var e=Object(l.f)(),t=JSON.parse(localStorage.getItem("labepics"));return t?e.push("/".concat(t.nickname)):e.push("/accounts/login"),r.a.createElement("div",null,"oi")},ce=function(){return r.a.createElement(i.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:re}),r.a.createElement(l.a,{exact:!0,path:"/accounts/signup",component:U}),r.a.createElement(l.a,{exact:!0,path:"/accounts/login",component:_}),r.a.createElement(s,{exact:!0,path:"/:nickname",component:ne})))};var oe=function(){return r.a.createElement(ce,null)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root"))},77:function(e,t,a){e.exports=a.p+"static/media/logo.e6d87038.svg"},78:function(e,t,a){e.exports=a.p+"static/media/logo.e6d87038.svg"},92:function(e,t,a){e.exports=a(121)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.a91d346c.chunk.js.map